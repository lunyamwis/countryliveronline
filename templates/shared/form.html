{% extends "shared/layout.html" %}
{% block title %}{{ model_meta.verbose_name|title }} Â· ShambaOps{% endblock %}
{% block eyebrow %}Data Entry{% endblock %}
{% block page_title %}{{ model_meta.verbose_name|title }}{% endblock %}
{% block page_subtitle %}Create or update record{% endblock %}

{% block content %}
<div class="card border-0 shadow-sm rounded-4">
  <div class="card-body p-3 p-md-4">
    <form method="post" class="row g-3">
      {% csrf_token %}

      {% for field in form %}
        <div class="col-12">
          <label class="form-label fw-semibold">{{ field.label }}</label>
          {{ field }}
          {% if field.help_text %}<div class="form-text">{{ field.help_text }}</div>{% endif %}
          {% for e in field.errors %}<div class="text-danger small">{{ e }}</div>{% endfor %}
        </div>
      {% endfor %}

      <div class="col-12 d-flex gap-2 pt-2">
        <button class="btn btn-success px-4">Save</button>
        <a class="btn btn-outline-secondary" href="javascript:history.back()">Cancel</a>
      </div>
    </form>
  </div>
</div>

<script>
  document.querySelectorAll("input, textarea, select").forEach(el => {
    const t = (el.getAttribute("type") || "").toLowerCase();
    const isCheckbox = t === "checkbox";
    if (el.tagName === "SELECT") el.classList.add("form-select");
    else if (!isCheckbox) el.classList.add("form-control");
  });
</script>
{% endblock %}
